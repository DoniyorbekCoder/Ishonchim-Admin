import{I as C,d as P,J as j,j as k,K as L,L as U,M as V,N as x,P as S,Q as w,o as z,A as R,u as K,R as N}from"./index.e72e54c2.js";var T=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],F=function(n){return T.map(function(t){return t.toLowerCase()}).indexOf(n.toLowerCase())!==-1},G=function(n,t,e){Object.keys(t).filter(F).forEach(function(o){var i=t[o];typeof i=="function"&&(o==="onInit"?i(n,e):e.on(o.substring(2),function(r){return i(r,e)}))})},q=function(n,t,e,o){var i=n.modelEvents?n.modelEvents:null,r=Array.isArray(i)?i.join(" "):i;C(o,function(d,l){e&&typeof d=="string"&&d!==l&&d!==e.getContent({format:n.outputFormat})&&e.setContent(d)}),e.on(r||"change input undo redo",function(){t.emit("update:modelValue",e.getContent({format:n.outputFormat}))})},H=function(n,t,e,o,i,r){o.setContent(r()),e.attrs["onUpdate:modelValue"]&&q(t,e,o,i),G(n,e.attrs,o)},_=0,A=function(n){var t=Date.now(),e=Math.floor(Math.random()*1e9);return _++,n+"_"+e+_+String(t)},$=function(n){return n!==null&&n.tagName.toLowerCase()==="textarea"},E=function(n){return typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" ")},J=function(n,t){return E(n).concat(E(t))},Q=function(n){return n==null},D=function(){return{listeners:[],scriptId:A("tiny-script"),scriptLoaded:!1}},W=function(){var n=D(),t=function(i,r,d,l){var a=r.createElement("script");a.referrerPolicy="origin",a.type="application/javascript",a.id=i,a.src=d;var v=function(){a.removeEventListener("load",v),l()};a.addEventListener("load",v),r.head&&r.head.appendChild(a)},e=function(i,r,d){n.scriptLoaded?d():(n.listeners.push(d),i.getElementById(n.scriptId)||t(n.scriptId,i,r,function(){n.listeners.forEach(function(l){return l()}),n.scriptLoaded=!0}))},o=function(){n=D()};return{load:e,reinitialize:o}},X=W(),Y=function(){return typeof window<"u"?window:global},s=function(){var n=Y();return n&&n.tinymce?n.tinymce:null},Z={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(n){return n==="html"||n==="text"}}},f=globalThis&&globalThis.__assign||function(){return f=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},f.apply(this,arguments)},nn=function(n,t,e,o){return n(o||"div",{id:t,ref:e})},en=function(n,t,e){return n("textarea",{id:t,visibility:"hidden",ref:e})},tn=P({props:Z,setup:function(n,t){var e=n.init?f({},n.init):{},o=j(n),i=o.disabled,r=o.modelValue,d=o.tagName,l=k(null),a=null,v=n.id||A("tiny-vue"),h=n.init&&n.init.inline||n.inline,p=!!t.attrs["onUpdate:modelValue"],b=!0,M=n.initialValue?n.initialValue:"",y="",B=function(u){return p?function(){return r!=null&&r.value?r.value:""}:function(){return u?M:y}},g=function(){var u=B(b),c=f(f({},e),{readonly:n.disabled,selector:"#"+v,plugins:J(e.plugins,n.plugins),toolbar:n.toolbar||e.toolbar,inline:h,setup:function(m){a=m,m.on("init",function(O){return H(O,n,t,m,r,u)}),typeof e.setup=="function"&&e.setup(m)}});$(l.value)&&(l.value.style.visibility=""),s().init(c),b=!1};C(i,function(u){var c;a!==null&&(typeof((c=a.mode)===null||c===void 0?void 0:c.set)=="function"?a.mode.set(u?"readonly":"design"):a.setMode(u?"readonly":"design"))}),C(d,function(u){var c;p||(y=a.getContent()),(c=s())===null||c===void 0||c.remove(a),w(function(){return g()})}),L(function(){if(s()!==null)g();else if(l.value&&l.value.ownerDocument){var u=n.cloudChannel?n.cloudChannel:"6",c=n.apiKey?n.apiKey:"no-api-key",m=Q(n.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+c+"/tinymce/"+u+"/tinymce.min.js":n.tinymceScriptSrc;X.load(l.value.ownerDocument,m,g)}}),U(function(){s()!==null&&s().remove(a)}),h||(V(function(){b||g()}),x(function(){var u;p||(y=a.getContent()),(u=s())===null||u===void 0||u.remove(a)}));var I=function(u){var c;y=a.getContent(),(c=s())===null||c===void 0||c.remove(a),e=f(f({},e),u),w(function(){return g()})};return t.expose({rerender:I}),function(){return h?nn(S,v,l,n.tagName):en(S,v,l)}}});const on=tn,rn=P({__name:"TextEditor",setup(n){const t="https://hazratim.uz/";async function e(o,i,r,d){try{const l=new FormData;l.append("image",o.blob());const a=await N(l);i(`${t}${a[1].data}`)}catch(l){throw l}}return(o,i)=>(z(),R(K(on),{"api-key":"1yt8kb37zy0a57vbymcq0bq493c6zpymw4ehb6lev3dn5tvg","output-format":"html",init:{images_upload_credentials:!0,images_upload_handler:e,height:300,width:"100%",menubar:!1,plugins:["advlist autolink link image lists charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking","save table contextmenu directionality emoticons template paste textcolor","image imagetools"],toolbar:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullpage | forecolor backcolor emoticons | image code preview imagetools undo redo"}},null,8,["init"]))}});export{rn as default};
