import{x as I,d as O,i as d,j as p,c as v,a as s,e as T,v as A,k as _,u as o,F as E,l as L,m,y as g,C as M,z as C,o as y,A as D,B as P,n as R,q}from"./index.e72e54c2.js";async function V(f=1,n="",u=0){try{const r=await I.get(`users?type=${f}`,{params:{size:6,offset:u,search:n}});return[null,r.data]}catch(r){return[r,null]}}const j={class:"w-full"},B={class:"flex justify-between items-center mb-30"},F=s("p",{class:"text-black-primary text-xl font-bold"},"Foydalanuvchilar",-1),S={class:"flex gap-15 items-center"},z=s("i",{class:"icon-plus"},null,-1),G=s("p",{class:"text-sm text-white-primary font-medium leading-21 hidden md:block"},"Yangi foydalanuvchi qo\u2018shish",-1),Q=[z,G],U={class:"bg-white-primary flex items-center gap-5 p-5 pl-20 rounded",role:"button"},Y=s("i",{class:"icon-search"},null,-1),$={class:"w-full p-15 rounded-15 bg-white-primary"},H={class:"rounded text-sm text-black-primary font-medium my-15 gap-10"},K=O({__name:"index",setup(f){const n=R(),u=q(),r=d(()=>m(()=>import("./TableTitle.d0d888cf.js"),["assets/TableTitle.d0d888cf.js","assets/9.faae7829.js","assets/index.e72e54c2.js","assets/index.6f469888.css"])),x=d(()=>m(()=>import("./TableItem.09081f0c.js"),["assets/TableItem.09081f0c.js","assets/9.faae7829.js","assets/arrow-right-s.de4946e2.js","assets/index.e72e54c2.js","assets/index.6f469888.css"])),k=d(()=>m(()=>import("./TheModal.4143dd21.js"),["assets/TheModal.4143dd21.js","assets/index.e72e54c2.js","assets/index.6f469888.css"])),l=p({isLoading:!1,count:0,list:[]});async function N(a){const t={...n.query};a.key=="type"&&(t.offset="0"),t[a.key]=String(a.value),await u.replace({query:t}),i()}const b=p(),c=p("");async function i(){const{type:a=1,offset:t=0}=n.query;g();const[h,e]=await V(Number(a),c.value,Number(t));M(),l.value.count=e.count,l.value.list=e.list}function w(a){b.value.open(a)}return i(),(a,t)=>{const h=C("base-pagination");return y(),v("div",j,[s("div",B,[F,s("div",S,[s("button",{class:"bg-blue-primary flex items-center px-30 py-15 gap-5 rounded",role:"button",onClick:w},Q),s("div",U,[Y,T(s("input",{type:"search",name:"search","onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),onInput:i,placeholder:"Qidiruv",class:"placeholder:text-gray-primary text-black-primary focus:outline-none py-10 text-sm"},null,544),[[A,c.value]])])])]),s("div",$,[_(o(r)),s("div",H,[(y(!0),v(E,null,L(l.value.list,e=>(y(),D(o(x),{key:e.id,id:e.id,username:e.username,password:e.password,firstName:e.firstName,lastName:e.lastName,birthday:e.birthday,isMan:e.isMan,bio:e.bio,balance:e.balance,phone:e.phone,jobs:e.jobs,token:e.token,type:e.type,image:e.image,passport:e.passport},null,8,["id","username","password","firstName","lastName","birthday","isMan","bio","balance","phone","jobs","token","type","image","passport"]))),128))])]),_(h,{active:Math.trunc(Number(o(n).query.offset)/6)+1||1,perPage:6,items:l.value.count,onChange:t[1]||(t[1]=e=>N({key:"offset",value:(e-1)*6}))},null,8,["active","items"]),_(o(k),{ref_key:"modalRef",ref:b,onSubmit:o(g),onToast:t[2]||(t[2]=e=>o(P)({text:e,callback:i}))},null,8,["onSubmit"])])}}});export{K as default};
